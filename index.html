<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #partida {
            display: flex;
            flex-direction: row;
            justify-content: center;
        }

        span {
            width: 250px;
            height: 250px;
        }

        #imagenes {
            display: flex;
            justify-content: center;
        }
        
        #imagenes img:hover {
            cursor: pointer;
        }

        img {
            margin: 30px;
        }

    </style>
</head>
<body>
    <h1>Piedra, papel o tijera</h1>

    <!--Jugada-->
    <div id="partida">
        <span>
            <h2>Player</h2>
            <img src="" alt="" width="100" id="jugador">
            <p id="textoJugador"></p>
        </span>

        <span >
            <h2>Pc</h2>
            <img src="" alt="" width="100" id="pc">
            <p id="textoPc"></p>
        </span>
    </div>

    <!--Resultado-->
    <div>
        <p id="resultado"></p>
        <p>Jugados</p><output id="jugados"></output></p>
        <p>Ganados<output id="ganados"></output></p>
        <p>Perdidos<output id="perdidos"></output></p>
        <p>Empatados<output id="empatados"></output></p>
    </div>

    <!--Botones-->
    <div id="imagenes">
        <img src="img/piedra.png" width="100" alt="" id="piedra" class="opcion">
        <img src="img/papel.png" width="100" alt="" id="papel" class="opcion">
        <img src="img/tijera.png" width="100" alt="" id="tijera" class="opcion">
    </div>

    <script>
        let jugador = document.querySelector('#jugador')
        let pc = document.querySelector('#pc')
        let imagenes = ['img/piedra.png', 'img/papel.png', 'img/tijera.png']
        let texto = ["Piedra", "Papel", "Tijera"]
        let partidos = 0;
        let ganados = 0;
        let perdidos = 0;
        let empatados = 0;

 

            const aleatorio=()=>{
                let numero = Math.floor((Math.random()*3)+1)
                let respuesta
                if (numero==1){
                    respuesta="piedra"
                } else if(numero==2){
                    respuesta="papel"
                } else {
                    respuesta="tijera"
                }
                return respuesta
            }

            const logicaJuego=(usr, pc)=>{
                console.log(usr, pc)
                if(usr===pc){
                    console.log("empate")
                    empatados ++
                    document.querySelector('#empatados').textContent= empatados
                    document.querySelector("#resultado").innerHTML = "Empate"
                } else if((usr==="piedra" && pc==="papel") || (usr==="tijera" && pc==="piedra") || (usr==="papel" && pc==="tijera")){
                    console.log("gano la compu")
                    perdidos ++
                    document.querySelector('#perdidos').textContent= perdidos
                    document.querySelector("#resultado").innerHTML = "Gano la compu"
                }else {
                    console.log("gano el usuario")
                    ganados ++
                    document.querySelector('#ganados').textContent= ganados
                    document.querySelector("#resultado").innerHTML = "Gano el usuario"
                   }
                }
            

            let decisionUsuario 
            let decisionPC 
            let opciones = document.querySelectorAll('.opcion')

            for(let opcion of opciones){
                opcion.addEventListener('click', function(e){
                    //console.log(e.target.id)
                    decisionUsuario = e.target.id
                    if(decisionUsuario==='piedra') jugador.src = imagenes[0]
                    if(decisionUsuario==='papel') jugador.src = imagenes[1]
                    if(decisionUsuario==='tijera') jugador.src = imagenes[2]
                    decisionPC = aleatorio()
                    if(decisionPC==='piedra') pc.src = imagenes[0]
                    if(decisionPC==='papel') pc.src = imagenes[1]
                    if(decisionPC==='tijera') pc.src = imagenes[2]
                    logicaJuego(decisionUsuario, decisionPC)
                    partidos++
                    document.querySelector('#jugados').textContent= partidos
                })
            }

            /* document.querySelector('#piedra').addEventListener('click', function () {
                    //document.querySelector('#textoJugador').innerHTML = texto[0];
                    decisionUsuario = "piedra"
                    decisionPC = aleatorio()
                    jugador.src = imagenes[0];
                    if(decisionPC==='piedra') pc.src = imagenes[0]
                    if(decisionPC==='papel') pc.src = imagenes[1]
                    if(decisionPC==='tijera') pc.src = imagenes[2]
                    logicaJuego(decisionUsuario, decisionPC)
                });

            document.querySelector('#papel').addEventListener('click', function () {
                    //document.querySelector('#textoJugador').innerHTML = texto[0];
                    decisionUsuario = "papel"
                    decisionPC = aleatorio()
                    jugador.src = imagenes[1];
                    if(decisionPC==='piedra') pc.src = imagenes[0]
                    if(decisionPC==='papel') pc.src = imagenes[1]
                    if(decisionPC==='tijera') pc.src = imagenes[2]
                    logicaJuego(decisionUsuario, decisionPC)
                });

            document.querySelector('#tijera').addEventListener('click', function () {
                    //document.querySelector('#textoJugador').innerHTML = texto[0];
                    decisionUsuario = "tijera"
                    decisionPC = aleatorio()
                    jugador.src = imagenes[2]
                    if(decisionPC==='piedra') pc.src = imagenes[0]
                    if(decisionPC==='papel') pc.src = imagenes[1]
                    if(decisionPC==='tijera') pc.src = imagenes[2]
                    logicaJuego(decisionUsuario, decisionPC)
                });         */

            




            /* const turnoPc = (evt) => {
                    let aleatorio = Math.floor(Math.random()* 3);
                    pc.src = imagenes[aleatorio]
                    document.querySelector('#textoPc').innerHTML = texto[aleatorio]
                } 

            const turnoJugador = () => {
                document.querySelector('#piedra').addEventListener('click', eligePiedra)
                function eligePiedra () {
                    jugador.src = imagenes[0];
                    document.querySelector('#textoJugador').innerHTML = texto[0];
                    turnoPc()
                }
                document.querySelector('#papel').addEventListener('click', eligePapel)
                function eligePapel () {
                    jugador.src = imagenes[1];
                    document.querySelector('#textoJugador').innerHTML = texto[1];
                    turnoPc()
                }
                document.querySelector('#tijera').addEventListener('click', eligeTijera)
                function eligeTijera () {
                    jugador.src = imagenes[2];
                    document.querySelector('#textoJugador').innerHTML = texto[2];
                    turnoPc()
                }
            } 
            turnoJugador()

            function resultado () {
                if ((eligePiedra () && aleatorio === 0) || (eligePapel () && aleatorio === 1) || (eligeTijera () && aleatorio === 2)) {
                    document.querySelector('#resultado').innerHTML = "Empate";
                } else if ((eligePiedra () && aleatorio === 2) || (eligePapel () && aleatorio === 0) || (eligeTijera () && aleatorio === 1)) {
                    document.querySelector('#resultado').innerHTML = "Gana el jugador";
                } else {
                    document.querySelector('#resultado').innerHTML = "Gana la computadora";
                }
            }
            resultado() */
         
    </script>
</body>
</html>